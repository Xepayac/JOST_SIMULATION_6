{% extends 'layout.html' %}

{% block content %}
    <h1>Edit Simulation: {{ simulation.title }}</h1>

    <form method="post" action="{{ url_for('edit_simulation', simulation_id=simulation.id) }}">
        <div>
            <label for="title">Title:</label>
            <input type="text" name="title" id="title" value="{{ simulation.title }}">
        </div>
        <button type="submit" name="action" value="save">Save Changes</button>
    </form>

    {% if simulation.player %}
        <p>Player: {{ simulation.player.name }} (Bankroll: {{ simulation.player.bankroll }})
            <a href="{{ url_for('players', simulation_id=simulation.id) }}" class="button-link">Change Player</a>
        </p>
    {% else %}
        <p>No player selected. Please <a href="{{ url_for('players', simulation_id=simulation.id) }}">choose a player</a>.</p>
    {% endif %}

    <div style="margin-top: 1rem;">
        <a href="{{ url_for('run_simulation_page', simulation_id=simulation.id) }}" class="button">Proceed to Run Simulation</a>
    </div>

    <form action="{{ url_for('delete_simulation', simulation_id=simulation.id) }}" method="post" style="margin-top: 1rem;">
        <button type="submit" class="delete-button">Delete Simulation</button>
    </form>
{% endblock %}
