{% extends 'layout.html' %}

{% block content %}
    <h1>Casinos</h1>

    {% if simulation_id %}
        <h2>Choose a Casino for your Simulation</h2>
    {% endif %}

    <div class="list-container">
        {% for casino in casinos %}
            <div class="list-item">
                <span>{{ casino.name }}</span>
                <div class="list-item-actions">
                    {% if simulation_id %}
                        <form action="{{ url_for('add_casino') }}" method="post" style="display: inline;">
                            <input type="hidden" name="casino_name" value="{{ casino.name }}">
                            <input type="hidden" name="simulation_id" value="{{ simulation_id }}">
                            <button type="submit" class="button">Choose</button>
                        </form>
                    {% endif %}
                    <a href="{{ url_for('edit_casino', casino_id=casino.id) }}{{ '?simulation_id=' + simulation_id|string if simulation_id else '' }}" class="button">Edit</a>
                    <form action="{{ url_for('delete_casino', casino_id=casino.id) }}" method="post" style="display: inline;">
                        <button type="submit" class="button" onclick="return confirm('Are you sure you want to delete this casino?');">Delete</button>
                    </form>
                </div>
            </div>
        {% endfor %}
    </div>

    {% if not simulation_id %}
    <h2>Add a New Casino</h2>
    <form action="{{ url_for('add_casino') }}" method="post">
        <label for="casino_name">Casino Name:</label>
        <input type="text" id="casino_name" name="casino_name" required>
        <button type="submit" class="button">Add Casino</button>
    </form>
    {% endif %}

{% endblock %}
